<p-toast position="top-right"  ></p-toast>
<div class="admin-page">
    <p-card header="Orders" subheader="List of all corders">
        <div class="flex pt-3">
            <div class="col-12">
                <p-table [value]="orders" styleClass="p-datatable-gridlines">
                    <ng-template pTemplate="header">
                        <tr>
                            <th pSortableColumn="name">User <p-sortIcon field="name"></p-sortIcon></th>
                            <th pSortableColumn="price">Total Price <p-sortIcon field="price"></p-sortIcon></th>
                            <th pSortableColumn="dateOrdered">Date Ordered <p-sortIcon field=""></p-sortIcon></th>
                            <th pSortableColumn="status">Status <p-sortIcon field="user"></p-sortIcon></th>
                            <th></th>
                        </tr>
                    </ng-template>
                    <ng-template  pTemplate="body" let-order>
                        <tr>
                            <td> {{order.user.name}}</td>
                            <td> {{order.totalPrice}}</td>
                            <td> {{order.dateOrdered | date:'short'}}</td>
                            <td> <p-tag  [value]="orderStatus[order.status].label" [severity]="orderStatus[order.status].color"></p-tag>  </td>
                            
                            <td><p-button 
                                styleClass="p-button-danger"
                                icon="pi pi-trash"
                                (click)="deleteOrder(order._id)"
                                ></p-button>
                                <p-button 
                                styleClass="p-button-success ml-1"
                                icon="pi pi-eye"
                                (click)="showOrder(order._id)"
                                ></p-button></td>
                        </tr>
                    </ng-template>
                </p-table> 

                
            </div>
        </div>
        
    </p-card> 
</div>

<p-confirmDialog header="Confirmation" icon="pi pi-exclamation-triangle"></p-confirmDialog>

